/**
*	Timber
*	Version: 1.1.1
*	URL: @ThemeMountain
*	Description: Components
*	Requires: jQuery 1.10+
*	Author: ThemeMountain
*	Copyright: Copyright 2014 ThemeMountain
*	License: MIT (http://www.opensource.org/licenses/mit-license.php)
*/
$(document).ready(function(){"use strict";var e,i=ai?"touchstart":"click",t=".wrapper",a=".element-reveal-left",n=".element-reveal-right",s=".side-navigation-wrapper",o=".side-nav-show, a.side-nav-show",r=".side-nav-hide a",c=".no-scroll",l=".element-show-left",d=".element-show-right",u="easeInOutQuint",v={init:function(){if(!$(s).length)return!1;$("body").data("aux-nav",!1);var e=$(s).data("animation")?$(s).data("animation"):"no-transition",h=$(s).is("[data-no-scrollbar]")?"no-scrollbar":"scrollbar";"no-transition"===e&&$(t).addClass(e+"-reset"),$(t).addClass("reveal-side-navigation"),$(s).addClass(e+"-reset "+h);var f=$(s).hasClass("enter-right")?"right":"left";Z?m="left"===f?a:n:(m="left"===f?l:d,$(s).addClass("hide"));var m=m.split(".").join("");c=c.split(".").join(""),$(o).on(i,function(a){if(a.preventDefault(),$(s).hasClass("active"))v.closeNav(m,e);else{O.state(!0),k.state(!0),$("body").data("aux-nav",!0),$("html, body").addClass(c);var n=$(window).scrollTop();ai||$(".header-inner").css({top:n+"px"}),Z?($(t).addClass(m+" inactive "+e).css({transitionTimingFunction:ti[u]}),$(s).addClass("active "+e).css({transitionTimingFunction:ti[u]})):($(t).addClass(m),$(s).removeClass("hide").addClass("active")),$(t).on(ii,function(t){return t.target!==$(this)[0]?!1:(t.stopPropagation(),$(this).off(ii),void $(".reveal-side-navigation").on(i,function(){$(".reveal-side-navigation").off(i),v.closeNav(m,e)}))})}}),$(r).on(i,function(t){t.preventDefault(),$(".reveal-side-navigation").off(i),v.closeNav(m,e)}),$(window).on("resize",function(){k.state($("body").data("aux-nav")?!0:!1)})},closeNav:function(e,i){Z?(O.state(!0),$(t).removeClass(e+" "+i),$(s).removeClass(i),"no-transition"===i&&($("html, body").removeClass(c),$(t).removeClass("inactive"),$(s).removeClass("active")),$(t).on(ii,function(e){return e.target!==$(this)[0]?!1:(e.stopPropagation(),k.state(!1),$(this).off(ii),$("html, body").removeClass(c),$(t).removeClass("inactive"),$(s).removeClass("active"),void(ai||$(".header-inner").css({top:0})))})):($(t).removeClass(e+" "+i),$(s).addClass("hide").removeClass("active")),$("body").data("aux-nav",!1)}},h=".overlay-navigation-wrapper",f=".overlay-navigation-inner",m=".overlay-nav-show a, a.overlay-nav-show",b=".overlay-nav-hide a, .one-page-nav .overlay-navigation .scroll-link",g=".no-scroll",p="easeInOutQuint",C={init:function(){if(!$(h).length)return!1;var e=$(h).data("animation")?$(h).data("animation"):"no-transition",t=$(h).is("[data-no-scrollbar]")?"no-scrollbar":"scrollbar";$(h).addClass(e+"-reset "+t),g=g.split(".").join(""),$(m).on(i,function(i){i.preventDefault(),$(h).hasClass("active")?C.closeNav(e):($("body").data("aux-nav",!0),$("html, body").addClass(g),Z?$(h).addClass("active "+e).css({transitionTimingFunction:ti[p]}):$(h).addClass("active"),$(h).on(ii,function(e){return e.target!==$(this)[0]?!1:(e.stopPropagation(),k.state(!0),void $(this).off(ii))}))}),$(f).on(i,function(i){i.target===this&&C.closeNav(e)}),$(b).on(i,function(i){i.preventDefault(),C.closeNav(e)}),$(window).on("resize",function(){k.state($("body").data("aux-nav")?!0:!1)})},closeNav:function(e){Z?($(h).removeClass(e),"no-transition"===e&&($("html, body").removeClass(g),$(h).removeClass("active")),$(h).on(ii,function(e){return e.target!==$(this)[0]?!1:(e.stopPropagation(),k.state(!1),$(this).off(ii),$("html, body").removeClass(g),void $(h).removeClass("active"))})):$(h).removeClass("active").css({top:"-100%"}),$("body").data("aux-nav",!1)}},y=".side-navigation-wrapper, .overlay-navigation-wrapper",w=".sub-menu",z=".contains-sub-menu",T={init:function(){$(y).find(z).each(function(){$(this).on(i,function(e){e.preventDefault(),$(this).parent().hasClass("current")?$(y).find("nav").children("ul").children().removeClass("current"):($(y).find("nav").children("ul").children().removeClass("current"),$(this).parent().addClass("current")),O.state(!0);var i=$(this).siblings(w).children(),t=0;i.each(function(){t+=$(this).outerHeight()}),$(this).siblings(w).hasClass("open")?$(this).closest(y).find(w).css({height:0}).removeClass("open"):($(this).closest(y).find(w).css({height:0}).removeClass("open"),$(this).siblings(w).css({height:t+"px"}),$(this).siblings(w).addClass("open"))})})}},k={state:function(e){ai?e?$("body").addClass("aux-navigation-active"):$("body").removeClass("aux-navigation-active"):e?$("body").addClass("aux-navigation-active"):$("body").data("aux-nav")||$("body").removeClass("aux-navigation-active")}},x=".header, .header-inner, .logo, .logo a, .header .navigation",O={init:function(){ai||$(window).on("scroll",function(){O.state(!0)}),$(window).on("resize",function(){O.state(!1)})},state:function(e){e?$(x).removeClass("no-transition"):$(x).addClass("no-transition")}},I=300,N=".scroll-to-top",E=600,D={init:function(){$(window).on("scroll",function(){return $(N).is("[data-no-hide]")?!1:void($(this).scrollTop()>I?$(N).fadeIn(E):$(N).fadeOut(E))}),$(N).on(i,function(e){e.preventDefault(),D.scrollUp()})},scrollUp:function(){$("html, body").animate({scrollTop:0},E)}},Q=".header",B=".tabs",P=".tab-trigger-click",A=".accordion",S="icon-plus",F="icon-minus",H=".accordion-content",L=".accordion-trigger-click",M=".box.dismissable",W=300,j="swing",R=".dropdown",U=".thumbnail",q=".overlay-info, img",G=".overlay-info",J=400,K="easeInOutQuint",V={init:function(){V.tabs(),V.accordions(),V.dismissable(),V.dropdown(),V.rollovers(),V.thumbnailRatio()},tabs:function(){$(B).each(function(){var e=$(this).find("li > a");$(this).find(".tab-panes > .active").addClass("fade-in"),e.each(function(){$(this).on(i,function(){var e=$(this).attr("href"),i=$(this).closest(".tabs").find(e);if($(this).closest(".tab-nav").find(".active").removeClass("active"),$(this).parent().addClass("active"),$(this).closest(".tabs").find(".tab-panes > .active").removeClass("active fade-in"),i.addClass("active"),i.find(".tm-slider-container").length>0){var t=i.find(".tm-slider-container").data("avalancheSlider");t.resizeSlider()}var a=null;return clearTimeout(a),a=setTimeout(function(){i.addClass("fade-in")},50),!1}),$(this).parent().hasClass("active")&&$(this).closest(".tabs").find($(this).attr("href")).addClass("active")})}),$(P).each(function(){$(this).on("click",function(){var e=$(this).data("target-tab");return $(B).find(e).trigger("click"),!1})})},accordions:function(){$(A).each(function(){var e=$(this).children().children().children("a");e.each(function(){$(this).closest(A).is("[data-toggle-icon]")&&($(this).find("span").length||$(this).parent().hasClass("active")?!$(this).find("span").length&&$(this).parent().hasClass("active")&&$(this).prepend('<span class="'+F+'" />'):$(this).prepend('<span class="'+S+'" />')),$(this).on(i,function(){var e=$(this),i=e.attr("href"),t=e.closest(A).find(i),a=e.closest(A).find(H).parent();e.closest(A).children().children(".active").children("div").each(function(){var e=$(this).children().outerHeight();$(this).addClass("no-transition").css({height:e+"px"})});var n=null;return clearTimeout(n),n=e.parent().hasClass("active")?setTimeout(function(){e.closest(A).is("[data-toggle-multiple]")?e.siblings(t).removeClass("no-transition").css({height:0}):e.siblings("div").removeClass("no-transition").css({height:0}),e.parent().removeClass("active")},50):setTimeout(function(){var i=e.siblings(t).find(H).outerHeight();e.closest(A).is("[data-toggle-multiple]")||(a.removeClass("no-transition").css({height:0}),e.closest(A).children().children("li").removeClass("active")),e.parent().addClass("active"),e.siblings(t).removeClass("no-transition").css({height:i+"px"})},50),e.find("."+F).length?e.find("."+F).removeClass(F).addClass(S):e.find("."+S).length&&(e.closest(A).is("[data-toggle-multiple]")||e.closest("ul").find("."+F).removeClass(F).addClass(S),e.find("."+S).removeClass(S).addClass(F)),!1})}),$(L).each(function(){$(this).on("click",function(){var e=$(this).data("target-accordion");return $(A).find(e).trigger("click"),!1})}),$(window).on("resize",function(){$(A).each(function(){$(this).children().children(".active").children("div").addClass("no-transition").css({height:"auto"})})})})},dismissable:function(){$(M).each(function(){$(this).find(".close").length||$(this).prepend('<a href="" class="close icon-cancel" />'),$(this).find(".close").on(i,function(e){e.preventDefault(),Z?$(this).parent().css({transitionProperty:"opacity",opacity:0,transitionDuration:W+"ms",transitionTimingFunction:ti[j]}).on(ii,function(e){return e.stopPropagation(),e.target!==$(this)[0]?!1:void $(this).remove()}):$(this).parent().animate({opacity:0},J,j,function(){$(this).remove()})})})},dropdown:function(){$(R).each(function(){$(this).children(".button, button").not().each(function(){$(this).on(i,function(i){i.preventDefault(),$(R).children(".button, button").removeClass("active");var t=$(this).parent().children(".dropdown-list");return $(this).parent().hasClass("disabled")?!1:($(".dropdown-list").not($(t)).removeClass("active"),$(t).hasClass("active")?($(t).removeClass("active"),$(this).removeClass("active")):($(t).addClass("active"),$(this).addClass("active")),void $(document).on("click.closeDropdown",function(i){$(i.target).closest(R).length||e()}))}),$(this).parent().children(".dropdown-list").find("li a").on(i,function(e){e.preventDefault(),$(".dropdown-list").removeClass("active"),$(this).removeClass("active")}),ai||$(window).on("scroll",function(){e()}),$(Q).find(".navigation > ul > li > a").mouseenter(function(){e()});var e=function(){$(R).each(function(){$(this).find(".button, button").removeClass("active"),$(this).find(".dropdown-list").removeClass("active")}),$(document).off("click.closeDropdown")}})})},rollovers:function(){Z?$(U).each(function(){var e,i=$(this).data("hover-speed")?$(this).data("hover-speed"):J,t=$(this).data("hover-easing")?$(this).data("hover-easing"):K,a=$(this).data("hover-bkg-opacity")?$(this).data("hover-bkg-opacity"):1;if($(this).data("hover-bkg-color")){var n=$(this).data("hover-bkg-color");n=n.replace("#","");var s=parseInt(n.substring(0,2),16),o=parseInt(n.substring(2,4),16),r=parseInt(n.substring(4,6),16);e="rgba( "+s+","+o+","+r+","+a/1+" )"}else e=$(this).find(G).css("background-color");$(this).find(q).css({transitionDuration:i+"ms",transitionTimingFunction:ti[t]}),$(this).find(G).css({backgroundColor:e})}):$(U).find(".overlay-link").mouseenter(function(){$(this).find(G).css({opacity:0}).stop().animate({opacity:1},J,K)}).mouseleave(function(){$(this).find(G).stop().animate({opacity:0},J,K)})},thumbnailRatio:function(){$(window).on("resize",function(){$(U).each(function(){if($(this).find(".caption-over-outer").length){var e=$(this).find("img, video"),i=e.attr("width"),t=e.attr("height"),a=$(this).find("img, video").width(),n=t>i?t/i:i/t,s=t>i?a*n:a/n;$(this).find(".caption-over-outer").css({opacity:1}),$(this).css({height:s+"px"})}})}).resize()}},X=document.body||document.documentElement,Y=X.style,Z=void 0!==Y.transition||void 0!==Y.WebkitTransition||void 0!==Y.MozTransition||void 0!==Y.MsTransition||void 0!==Y.OTransition,_=["WebkitTransform","MozTransform","OTransform","msTransform"];for(var ei in _)void 0!==Y[_[ei]]&&(e="-"+_[ei].replace("Transform","").toLowerCase());var ii="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend";Z&&(document.getElementsByTagName("body")[0].className+=" transition-support");var ti={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.42, 0, 0.58, 1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};window.onpageshow=function(e){e.persisted&&$("body").addClass("page-fade-reset").removeClass("page-fade-out")};var ai=!1;(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))&&(ai=!0,document.getElementsByTagName("body")[0].className+=" mobile");var ni="WebkitAppearance"in document.documentElement.style;ni&&(document.getElementsByTagName("body")[0].className+=" webkit");var si=/constructor/i.test(window.HTMLElement);si&&(document.getElementsByTagName("body")[0].className+=" safari-browser");var oi=document.all&&document.addEventListener||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style;oi&&(document.getElementsByTagName("body")[0].className+=" ie-browser");var ri=document.all&&document.addEventListener;ri&&(document.getElementsByTagName("body")[0].className+=" ie-be-11",$(".flex").removeClass("flex").addClass("equalize")),v.init(),C.init(),T.init(),O.init(),D.init(),V.init()});